<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ideology Matcher</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    .result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <h1>Ideology Matcher</h1>
  <div class="result" id="result">Calculating...</div>

  <script>
    // Example ideology list with values (right, auth, prog), each -10 to 10
    const ideologies = [
      { name: "Libertarian", values: [10, -8, 5] },
      { name: "Authoritarian Conservative", values: [8, 9, -4] },
      { name: "Anarchist", values: [-9, -10, 7] },
      { name: "Centrist", values: [0, 0, 0] },
      { name: "Communist", values: [-8, 9, -3] },
      { name: "Progressive Liberal", values: [5, -2, 10] }
    ];

    // Parse URL query parameters
    const params = new URLSearchParams(window.location.search);
    const right = parseFloat(params.get("right")) || 0;
    const auth  = parseFloat(params.get("auth")) || 0;
    const prog  = parseFloat(params.get("prog")) || 0;

    const inputValues = [right, auth, prog];

    // Euclidean distance calculator
    function distance(a, b) {
      return Math.sqrt(
        (a[0] - b[0]) ** 2 +
        (a[1] - b[1]) ** 2 +
        (a[2] - b[2]) ** 2
      );
    }

    // Find closest ideology
    let closest = null;
    let minDist = Infinity;

    for (const ideology of ideologies) {
      const d = distance(inputValues, ideology.values);
      if (d < minDist) {
        minDist = d;
        closest = ideology.name;
      }
    }

    // Show result
    document.getElementById("result").textContent = 
      `Your closest ideology: ${closest} (based on right=${right}, auth=${auth}, prog=${prog})`;
  </script>

</body>
</html>
